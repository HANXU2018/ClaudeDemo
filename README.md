# 🎵 小噪音 - 白噪音播放器

专业的白噪音播放器，支持多音轨混合播放，采用移动端优先设计和毛玻璃特效。

## ✨ 特性

- 🎛️ **多音轨混合播放** - 同时播放多种白噪音，创造个性化的环境音效
- 📱 **移动端优先** - 专为手机设计，完美适配各种屏幕尺寸
- 🌟 **毛玻璃特效** - 高端的UI设计，流畅的动画效果
- 🔊 **音量独立控制** - 每个音轨都有独立的音量控制
- 💾 **本地存储** - 自动保存播放列表和设置
- 📤 **导入导出** - 支持播放列表的备份和恢复
- ➕ **自定义音频** - 支持添加自定义音频文件

## 🎼 音频库

### 自然声音
- 🌧️ 雨声
- ⛈️ 大雨声  
- 🌊 海浪声
- 🏖️ 海滩声
- 🌲 森林声
- 🐦 鸟鸣声
- 🔥 火焰声
- 💨 风声
- ⚡ 雷声

### 环境音
- ☕ 咖啡厅
- 📚 图书馆
- 🏢 办公室
- 🏙️ 城市声

### 交通工具
- 🚂 火车声
- ✈️ 飞机声  
- 🚗 汽车声

### 白噪音系列
- 📻 白噪音
- 🌸 粉噪音
- 🤎 棕噪音

### 机械声音
- 🕐 时钟滴答
- 🌀 风扇声
- 💓 心跳声

### 特色音效（幽默系列）
- 🔢 数学课
- 📝 语文课
- 🎤 校长讲话
- 👔 领导讲话

## 🚀 快速开始

### 方法一：直接使用（推荐）

1. **生成音频文件**
   ```bash
   python generate_audio.py
   ```

2. **启动本地服务器**
   ```bash
   python server.py
   ```

3. **打开浏览器访问**
   - 服务器会自动打开浏览器
   - 或手动访问 `http://localhost:8080`

### 方法二：静态文件服务

如果你已经有了Web服务器，可以直接将所有文件放到服务器目录中：

```bash
# 确保目录结构如下：
xiaozaoyin/
├── index.html          # 主页面
├── audio/             # 音频文件目录
│   ├── rain.mp3
│   ├── ocean_waves.mp3
│   └── ... (其他音频文件)
├── generate_audio.py  # 音频生成脚本
├── server.py         # 本地服务器脚本
└── README.md         # 说明文档
```

## 🎮 使用指南

### 基本操作

1. **添加音频到播放列表**
   - 点击音乐库中的任意音频项目
   - 被选中的项目会高亮显示

2. **控制播放**
   - 🎛️ **混合播放模式** - 同时播放所有选中的音频
   - 🔄 **循环播放模式** - 按顺序循环播放（暂未实现）
   - ▶️ **播放全部** - 开始播放所有音频
   - ⏸️ **暂停全部** - 暂停所有音频
   - 🗑️ **清空列表** - 清空播放列表

3. **音量控制**
   - 🔊 **主音量** - 控制所有音频的整体音量
   - 各音频有独立的音量滑块

### 高级功能

1. **播放列表管理**
   - 📤 **导出播放列表** - 将当前播放列表保存为JSON文件
   - 📥 **导入播放列表** - 从JSON文件恢复播放列表
   - ➕ **添加自定义音乐** - 添加自己的音频文件

2. **自动保存**
   - 应用会自动保存你的播放列表、音量设置和播放模式
   - 下次打开时会自动恢复之前的状态

## 🛠️ 技术细节

### 依赖要求

**Python依赖** (用于生成音频)：
```bash
pip install numpy scipy
```

**可选依赖** (用于MP3转换)：
- `ffmpeg` - 用于将WAV转换为MP3格式

### 音频格式

- **支持格式**: MP3, WAV
- **推荐格式**: MP3 (更小的文件大小)
- **音质**: 128kbps MP3
- **采样率**: 44.1kHz

### 浏览器兼容性

- ✅ Chrome/Chromium 70+
- ✅ Firefox 65+
- ✅ Safari 12+
- ✅ Edge 79+
- ✅ 移动端浏览器

### 技术栈

- **前端**: 纯HTML5 + CSS3 + JavaScript (ES6+)
- **音频**: Web Audio API
- **样式**: CSS Grid + Flexbox + Backdrop Filter
- **音频生成**: Python + NumPy + SciPy

## 📱 移动端优化

- 响应式设计，适配手机屏幕
- 触摸友好的UI元素
- 安全区域适配 (iPhone X系列)
- 减少不必要的动画效果（触摸设备）

## 🎨 设计特色

- **毛玻璃效果**: 使用 `backdrop-filter` 实现现代化的毛玻璃特效
- **暗色主题**: 深色渐变背景，护眼舒适
- **动态背景**: 渐变色彩装饰，视觉层次丰富
- **流畅动画**: CSS3过渡效果，交互体验流畅

## 🔧 自定义开发

### 添加新的音频

1. **方法一**: 将MP3文件放入 `audio/` 目录
2. **方法二**: 修改 `defaultMusicLibrary` 数组添加新项目
3. **方法三**: 使用界面上的"添加自定义音乐"功能

### 修改界面

- CSS样式位于 `index.html` 的 `<style>` 标签内
- 主要的颜色变量和尺寸可以在CSS开头找到
- JavaScript逻辑位于 `<script>` 标签内

### 音频生成

`generate_audio.py` 脚本可以生成各种类型的白噪音：

- 白噪音：均匀频谱
- 粉噪音：1/f频谱特性
- 棕噪音：1/f²频谱特性
- 环境音模拟：雨声、海浪声等

## 🐛 故障排除

### 音频无法播放

1. **检查文件路径**: 确保audio目录存在且包含MP3文件
2. **浏览器权限**: 现代浏览器需要用户交互才能播放音频
3. **文件格式**: 确保使用标准的MP3或WAV格式
4. **网络问题**: 如果使用远程文件，检查网络连接

### 界面显示问题

1. **浏览器兼容性**: 使用现代浏览器的最新版本
2. **JavaScript错误**: 打开浏览器开发者工具查看控制台错误
3. **CSS支持**: 确保浏览器支持 `backdrop-filter`

### 性能问题

1. **内存使用**: 同时播放太多音频可能导致内存占用过高
2. **CPU使用**: 毛玻璃效果在低端设备上可能影响性能
3. **文件大小**: 考虑压缩音频文件或使用更低的比特率

## 🤝 贡献

欢迎提交Issue和Pull Request来改进这个项目！

## 📄 许可证

MIT License - 自由使用，修改和分发。

## 🎯 未来计划

- [ ] 实现循环播放模式
- [ ] 添加更多音频效果
- [ ] 支持音频淡入淡出
- [ ] 添加定时器功能
- [ ] 支持音频可视化
- [ ] PWA支持，可安装到桌面
- [ ] 云端同步播放列表

---

🎵 **享受你的专属白噪音体验！**